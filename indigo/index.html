<?php ob_start(); ?>
<link rel="stylesheet" href="./index_files/indigo/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="./index_files/indigo/styles/common.css">

<script src="./index_files/indigo/bootstrap/js/bootstrap.min.js"></script>
<script src="./index_files/indigo/scripts/common.js"></script>

<!-- jqueryのdatepickerを読み込む -->
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1/i18n/jquery.ui.datepicker-ja.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
<script>
	$(function() {
		
		var dateFormat = 'yy-mm-dd';
		
		$.datepicker.setDefaults($.datepicker.regional["ja"]);
		
		$("#datepicker").datepicker({
			   dateFormat: dateFormat
		});
	});
</script>

<?php $px->bowl()->put( ob_get_clean(), 'head' ); ?>


<?php

// indigo config
$parameter = array(
	// POST
	'_POST' => $_POST,

	// GET
	'_GET' => $_GET,

	// indigo作業用ディレクトリ（絶対パス）
	'realpath_workdir' => '/var/www/html/sample-lib-indigo/[directoryName(ex. indigo_dir)]/',

	// リソースディレクトリ（ドキュメントルートからの相対パス）
	'relativepath_resourcedir'	=> './../[directoryName(ex. res)]/',

	// ajax呼出クラス（ドキュメントルートからの相対パス）
	'realpath_ajax_call' => './ajax.php',
	
	// 画面表示上のタイムゾーン
	'time_zone' => 'Asia/Tokyo',

	// ユーザID
	'user_id' => 'user01',

	// DB設定
	'db' => array(

		// 'mysql' or null（nullの場合はSQLite3を使用）　※バージョン0.1.0時点ではmysql未対応
		'db_type' => null,

		// 以下mysql用の設定項目
		'mysql_db_name' => '',
		'mysql_db_host' => '',
		'mysql_db_user' => '',
		'mysql_db_pass' => ''
	),

	// 予約最大件数
	'max_reserve_record' => 10,

	// バックアップ世代管理件数　※バージョン0.1.0時点では未対応
	'max_backup_generation' => 5,

	// 本番環境パス（同期先）※バージョン0.1.0時点では先頭の設定内容のみ有効
	'server' => array(
			array(
					// 任意の名前
					'name' => 'server1',
					// 同期先絶対パス
					'real_path' => '/var/www/html/indigo-test-project/'
			),
			array(
					// 任意の名前
					'name' => 'server2',
					// 同期先絶対パス
					'real_path' => '/var/www/html/indigo-test-project2/'
			)
	),

	// 同期除外ディレクトリ、またはファイル
	'ignore' => array(
		'.git',
		'.htaccess'
	),

	// Git情報定義
	'git' => array(

		// Gitリポジトリのurl（現在はhttpsプロトコルのみ対応）
		'giturl' => 'https://github.com/gk-r/indigo-test-project.git',

		// ユーザ名
		// Gitリポジトリのユーザ名を設定
		'username' => 'hoge',

		// パスワード
		// Gitリポジトリのパスワードを設定
		'password' => 'fuga'
	)
);

// load indigo\main
$indigo = new indigo\main($parameter);

echo $indigo->run();
